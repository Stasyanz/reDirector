# Telegram Redirect Bot

Телеграм бот для автоматической пересылки сообщений из канала в группу.

## Функциональность

- ✅ Автоматическая пересылка всех сообщений из определенного канала в указанную группу
- ✅ Поддержка всех типов сообщений (текст, фото, видео, документы и т.д.)
- ✅ Команды для управления и проверки статуса
- ✅ Детальное логирование работы
- ✅ Обработка ошибок

## Установка и настройка

### 1. Установка зависимостей

```bash
pip install -r requirements.txt
```

### 2. Настройка переменных окружения

Создайте файл `.env` в корне проекта:

```env
# Токен бота от @BotFather
BOT_TOKEN=YOUR_BOT_TOKEN_HERE

# Username канала для отслеживания (без @)
SOURCE_CHANNEL_USERNAME=your_channel_username

# ID группы, куда нужно пересылать сообщения (начинается с -100)
TARGET_GROUP_ID=-1001234567890

# ID администратора бота (ваш Telegram ID)
ADMIN_ID=123456789
```

### 3. Получение необходимых данных

#### Токен бота:
1. Напишите @BotFather в Telegram
2. Создайте нового бота командой `/newbot`
3. Скопируйте полученный токен

#### Username канала:
1. Откройте настройки канала в Telegram
2. Скопируйте публичную ссылку канала (например: t.me/my_channel)
3. Используйте только username без @ (например: my_channel)

#### ID группы:
1. Добавьте бота @userinfobot в вашу группу
2. Отправьте любое сообщение в группу
3. Бот покажет ID группы (число, начинающееся с -100)
4. Удалите @userinfobot из группы

#### Ваш ID:
1. Напишите @userinfobot в личные сообщения
2. Отправьте любое сообщение
3. Скопируйте ваш ID

## Запуск

```bash
python bot.py
```

## Настройка в Telegram

### 1. Добавление в канал
1. Добавьте бота в канал как администратора
2. Дайте права:
   - ✅ Просмотр сообщений
   - ✅ Отправка сообщений

### 2. Добавление в группу
1. Добавьте бота в целевую группу
2. Дайте права администратора для пересылки сообщений

## Команды

- `/start` - Приветствие и инструкции
- `/status` - Проверка статуса работы бота

## Логирование

Бот ведет подробные логи:
- Информация о полученных сообщениях
- Успешные пересылки
- Ошибки и их описание

## Возможные ошибки

### "BOT_TOKEN не установлен в переменных окружения"
- Проверьте наличие файла `.env`
- Убедитесь, что токен указан правильно

### "SOURCE_CHANNEL_USERNAME не установлен в переменных окружения"
- Добавьте username канала в файл `.env`
- Используйте только имя канала без символа @

### "chat not found"
- Проверьте правильность ID группы
- Убедитесь, что бот добавлен в группу

### "not enough rights"
- Дайте боту права администратора в группе
- Проверьте права на пересылку сообщений

### "Доступ запрещен"
- Убедитесь, что бот добавлен в канал как администратор
- Проверьте права на просмотр сообщений

## Структура проекта

```
redirect_bot/
├── bot.py              # Основной файл бота
├── config.py           # Конфигурация и загрузка переменных
├── requirements.txt    # Зависимости Python
├── .env               # Переменные окружения (создать самостоятельно)
├── .gitignore         # Исключения для Git
└── README.md          # Документация
``` 